{"version":3,"file":"js/264.9a6accff.js","mappings":"gLAAA,IAAIA,EAAS,WAAkB,IAAIC,EAAIC,KAAKC,EAAGF,EAAIG,MAAMD,GAAG,OAAOA,EAAG,MAAM,CAACE,YAAY,SAAS,CAACF,EAAG,SAAS,CAACG,GAAG,CAAC,MAAQL,EAAIM,kBAAkB,CAACN,EAAIO,GAAG,gBAAgBL,EAAG,SAAS,CAACA,EAAG,YAAY,CAACM,MAAM,CAAC,KAAO,UAAU,KAAO,cAAc,UAAYR,EAAIS,QAAQJ,GAAG,CAAC,MAAQL,EAAIU,mBAAmB,CAACV,EAAIO,GAAG,kBAAoBP,EAAIW,SAAwJX,EAAIY,KAAlJV,EAAG,YAAY,CAACM,MAAM,CAAC,KAAO,UAAU,KAAO,cAAc,UAAYR,EAAIS,QAAQJ,GAAG,CAAC,MAAQL,EAAIa,oBAAoB,CAACb,EAAIO,GAAG,aAAuBP,EAAIW,SAAUT,EAAG,YAAY,CAACM,MAAM,CAAC,KAAO,UAAU,KAAO,cAAc,UAAYR,EAAIS,QAAQJ,GAAG,CAAC,MAAQL,EAAIc,qBAAqB,CAACd,EAAIO,GAAG,cAAcP,EAAIY,KAAKV,EAAG,YAAY,CAACM,MAAM,CAAC,KAAO,UAAU,KAAO,cAAc,UAAYR,EAAIS,QAAQJ,GAAG,CAAC,MAAQL,EAAIe,wBAAwB,CAACf,EAAIO,GAAG,gBAAgBL,EAAG,IAAI,CAACE,YAAY,gBAAgBF,EAAG,IAAI,CAACF,EAAIO,GAAG,WAAWP,EAAIgB,GAAGhB,EAAIS,WAAWP,EAAG,IAAI,CAACF,EAAIO,GAAG,aAAaP,EAAIgB,GAAGhB,EAAIW,aAAaT,EAAG,YAAY,CAACM,MAAM,CAAC,KAAO,UAAU,KAAO,cAAc,UAAYR,EAAIS,QAAQJ,GAAG,CAAC,MAAQL,EAAIiB,yBAAyB,CAACjB,EAAIO,GAAG,mBAAmB,IAAI,EACllC,EACIW,EAAkB,GCsBtB,GACAC,KAAA,aACAC,MAAA,CACAC,IAAAC,QAEAC,IAAAA,GACA,OACAd,QAAA,EACAE,UAAA,EAEA,EACAa,QAAA,CACA,4BAAAP,GACA,MAAAQ,EAAA,IAAAC,OAAAC,KAAAC,MAAAC,qBACAJ,EAAAK,SAAA,oDACA,MAAAC,EAAA,KAAAC,OAAAC,WAAAC,YAAAC,MACA,UACAJ,EAAAK,MAAAX,GACAY,QAAAC,IAAA,UACA,OAAAC,GACAF,QAAAE,MAAAA,EACA,CACA,EAEA7B,gBAAAA,GACA,KAAAsB,OACAQ,cACAC,MAAAC,IAEAL,QAAAC,IAAA,WAAAI,EAAA,IAEAC,OAAAJ,OAGA,EAEA,uBAAA1B,GACA,IACA,MAAAkB,QAAA,KAAAC,OAAAY,SACA,IAAAb,EACA,YAEAM,QAAAC,IAAA,aAAAP,GACAM,QAAAC,IAAA,QAAAP,EAAAc,SACAR,QAAAC,IAAA,kBAAAP,EAAAe,mBACAT,QAAAC,IAAA,kBAAAP,EAAAgB,mBACAV,QAAAC,IACA,kBACA,KAAAN,OAAAC,WAAAC,YAAAC,MAAAY,mBAEA,KAAApC,SAAA,KAAAqB,OAAAgB,YACA,OAAAT,GAGA,OADAF,QAAAE,MAAAA,GACA,IACA,CACA,EAEA,wBAAAzB,GACA,UACA,KAAAkB,OAAAiB,UACA,KAAAtC,SAAA,KAAAqB,OAAAgB,aACAX,QAAAC,IAAA,gBAAAN,OAAAgB,aACA,OAAAT,GACAF,QAAAE,MAAAA,EACA,CACA,EAEAxB,qBAAAA,GACAW,OAAAwB,SAAAC,KAAA,oGAAAzB,OAAAwB,SAAAC,MACA,EAEA7C,eAAAA,GACAqB,KAAAyB,KAAA,cACAzB,KAAAC,MAAAyB,gBAAA,CACAC,UAAA,4EACAb,MAAAb,IACAA,EAAAgB,SAAAH,MAAAV,IACAA,EAAAgB,kBAAAQ,QAAA,IAIAZ,OAAAJ,IACAF,QAAAE,MAAA,cAAAA,EAAA,GACA,GACA,GAEA,GAGAiB,OAAAA,GACA,IAAAC,EAAA,KACAC,EAAAC,aAAA,WACAF,EAAAhD,OAAAgD,EAAAzB,OAAAvB,OACAgD,EAAA9C,SAAA8C,EAAAzB,OAAAgB,aACAS,EAAAhD,QAAAmD,cAAAF,EACA,OACA,GCzH2P,I,UCQvPG,GAAY,OACd,EACA9D,EACAmB,GACA,EACA,KACA,WACA,MAIF,EAAe2C,EAAiB,O","sources":["webpack://ntpu-dorm-check-in/./src/views/LoginGoogle.vue","webpack://ntpu-dorm-check-in/src/views/LoginGoogle.vue","webpack://ntpu-dorm-check-in/./src/views/LoginGoogle.vue?5453","webpack://ntpu-dorm-check-in/./src/views/LoginGoogle.vue?0cd3"],"sourcesContent":["var render = function render(){var _vm=this,_c=_vm._self._c;return _c('div',{staticClass:\"hello\"},[_c('button',{on:{\"click\":_vm.loginWithGoogle}},[_vm._v(\"使用Google登錄\")]),_c('el-row',[_c('el-button',{attrs:{\"type\":\"primary\",\"icon\":\"fas fa-edit\",\"disabled\":!_vm.isInit},on:{\"click\":_vm.handleClickLogin}},[_vm._v(\"get authCode\")]),(!_vm.isSignIn)?_c('el-button',{attrs:{\"type\":\"primary\",\"icon\":\"fas fa-edit\",\"disabled\":!_vm.isInit},on:{\"click\":_vm.handleClickSignIn}},[_vm._v(\"sign in\")]):_vm._e(),(_vm.isSignIn)?_c('el-button',{attrs:{\"type\":\"primary\",\"icon\":\"fas fa-edit\",\"disabled\":!_vm.isInit},on:{\"click\":_vm.handleClickSignOut}},[_vm._v(\"sign out\")]):_vm._e(),_c('el-button',{attrs:{\"type\":\"primary\",\"icon\":\"fas fa-edit\",\"disabled\":!_vm.isInit},on:{\"click\":_vm.handleClickDisconnect}},[_vm._v(\"disconnect\")]),_c('i',{staticClass:\"fas fa-edit\"}),_c('p',[_vm._v(\"isInit: \"+_vm._s(_vm.isInit))]),_c('p',[_vm._v(\"isSignIn: \"+_vm._s(_vm.isSignIn))]),_c('el-button',{attrs:{\"type\":\"primary\",\"icon\":\"fas fa-edit\",\"disabled\":!_vm.isInit},on:{\"click\":_vm.handleClickUpdateScope}},[_vm._v(\"update scope\")])],1)],1)\n}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","<template>\n    <div class=\"hello\">\n        <button @click=\"loginWithGoogle\">使用Google登錄</button>\n        <el-row>\n            <el-button type=\"primary\" icon=\"fas fa-edit\" @click=\"handleClickLogin\" :disabled=\"!isInit\">get\n                authCode</el-button>\n            <el-button type=\"primary\" icon=\"fas fa-edit\" @click=\"handleClickSignIn\" v-if=\"!isSignIn\"\n                :disabled=\"!isInit\">sign in</el-button>\n            <el-button type=\"primary\" icon=\"fas fa-edit\" @click=\"handleClickSignOut\" v-if=\"isSignIn\"\n                :disabled=\"!isInit\">sign out</el-button>\n            <el-button type=\"primary\" icon=\"fas fa-edit\" @click=\"handleClickDisconnect\"\n                :disabled=\"!isInit\">disconnect</el-button>\n            <i class=\"fas fa-edit\"></i>\n            <p>isInit: {{ isInit }}</p>\n            <p>isSignIn: {{ isSignIn }}</p>\n\n            <el-button type=\"primary\" icon=\"fas fa-edit\" @click=\"handleClickUpdateScope\" :disabled=\"!isInit\">update\n                scope</el-button>\n        </el-row>\n    </div>\n</template>\n\n<script>\n/* eslint-disable */\nexport default {\n    name: \"HelloWorld\",\n    props: {\n        msg: String,\n    },\n    data() {\n        return {\n            isInit: false,\n            isSignIn: false,\n        };\n    },\n    methods: {\n        async handleClickUpdateScope() {\n            const option = new window.gapi.auth2.SigninOptionsBuilder();\n            option.setScope(\"email https://www.googleapis.com/auth/drive.file\");\n            const googleUser = this.$gAuth.GoogleAuth.currentUser.get();\n            try {\n                await googleUser.grant(option);\n                console.log(\"success\");\n            } catch (error) {\n                console.error(error);\n            }\n        },\n\n        handleClickLogin() {\n            this.$gAuth\n                .getAuthCode()\n                .then((authCode) => {\n                    //on success\n                    console.log(\"authCode\", authCode);\n                })\n                .catch((error) => {\n                    //on fail do something\n                });\n        },\n\n        async handleClickSignIn() {\n            try {\n                const googleUser = await this.$gAuth.signIn();\n                if (!googleUser) {\n                    return null;\n                }\n                console.log(\"googleUser\", googleUser);\n                console.log(\"getId\", googleUser.getId());\n                console.log(\"getBasicProfile\", googleUser.getBasicProfile());\n                console.log(\"getAuthResponse\", googleUser.getAuthResponse());\n                console.log(\n                    \"getAuthResponse\",\n                    this.$gAuth.GoogleAuth.currentUser.get().getAuthResponse()\n                );\n                this.isSignIn = this.$gAuth.isAuthorized;\n            } catch (error) {\n                //on fail do something\n                console.error(error);\n                return null;\n            }\n        },\n\n        async handleClickSignOut() {\n            try {\n                await this.$gAuth.signOut();\n                this.isSignIn = this.$gAuth.isAuthorized;\n                console.log(\"isSignIn\", this.$gAuth.isAuthorized);\n            } catch (error) {\n                console.error(error);\n            }\n        },\n\n        handleClickDisconnect() {\n            window.location.href = `https://www.google.com/accounts/Logout?continue=https://appengine.google.com/_ah/logout?continue=${window.location.href}`;\n        },\n\n        loginWithGoogle() {\n            gapi.load('auth2', () => {\n                gapi.auth2.getAuthInstance({\n                    client_id: '54064734422-1nk5g1ag3n29qbqpero42krrtpdkugmd.apps.googleusercontent.com', // 替換為您的Google客戶端ID\n                }).then(auth2 => {\n                    auth2.signIn().then(googleUser => {\n                        const id_token = googleUser.getAuthResponse().id_token;\n\n                        // 現在，您可以在這裡將id_token發送到後端進行驗證和授權\n                        // 使用axios或其他HTTP庫將信息發送到Flask後端或其他後端服務\n                    }).catch(error => {\n                        console.error('Google登錄失敗:', error);\n                    });\n                });\n            });\n        },\n    },\n\n    created() {\n        let that = this;\n        let checkGauthLoad = setInterval(function () {\n            that.isInit = that.$gAuth.isInit;\n            that.isSignIn = that.$gAuth.isAuthorized;\n            if (that.isInit) clearInterval(checkGauthLoad);\n        }, 1000);\n    },\n};\n</script>\n\n<!-- Add \"scoped\" attribute to limit CSS to this component only -->\n<style scoped>\nh3 {\n    margin: 40px 0 0;\n}\n</style>","import mod from \"-!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js??clonedRuleSet-40.use[1]!../../node_modules/@vue/vue-loader-v15/lib/index.js??vue-loader-options!./LoginGoogle.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js??clonedRuleSet-40.use[1]!../../node_modules/@vue/vue-loader-v15/lib/index.js??vue-loader-options!./LoginGoogle.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./LoginGoogle.vue?vue&type=template&id=3bce96b0&scoped=true&\"\nimport script from \"./LoginGoogle.vue?vue&type=script&lang=js&\"\nexport * from \"./LoginGoogle.vue?vue&type=script&lang=js&\"\nimport style0 from \"./LoginGoogle.vue?vue&type=style&index=0&id=3bce96b0&prod&scoped=true&lang=css&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../node_modules/@vue/vue-loader-v15/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  \"3bce96b0\",\n  null\n  \n)\n\nexport default component.exports"],"names":["render","_vm","this","_c","_self","staticClass","on","loginWithGoogle","_v","attrs","isInit","handleClickLogin","isSignIn","_e","handleClickSignIn","handleClickSignOut","handleClickDisconnect","_s","handleClickUpdateScope","staticRenderFns","name","props","msg","String","data","methods","option","window","gapi","auth2","SigninOptionsBuilder","setScope","googleUser","$gAuth","GoogleAuth","currentUser","get","grant","console","log","error","getAuthCode","then","authCode","catch","signIn","getId","getBasicProfile","getAuthResponse","isAuthorized","signOut","location","href","load","getAuthInstance","client_id","id_token","created","that","checkGauthLoad","setInterval","clearInterval","component"],"sourceRoot":""}